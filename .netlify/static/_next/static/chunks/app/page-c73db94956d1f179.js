(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2922:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155),n=t(3109);let r=(0,t(9946).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var c=t(5607),i=t(5868),l=t(4186),o=t(2115);function d(e){let{title:a,value:t,change:n,changeType:r="neutral",icon:c,loading:i=!1}=e;return(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-400",children:a}),i?(0,s.jsx)("div",{className:"mt-2 h-8 bg-gray-700 rounded animate-pulse"}):(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-white",children:t}),n&&!i&&(0,s.jsx)("p",{className:"mt-1 text-sm ".concat({positive:"text-green-400",negative:"text-red-400",neutral:"text-gray-400"}[r]),children:n})]}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(c,{className:"h-8 w-8 text-orange-500"})})]})})}var h=t(1886),u=t(3786);function x(e){let{transactions:a,loading:t=!1}=e,n=a.reduce((e,a)=>(-1===e.findIndex(e=>e.hash===a.hash)&&e.push(a),e),[]);return t?(0,s.jsx)("div",{className:"p-6",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 py-3",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-20 animate-pulse"}),(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-32 animate-pulse"}),(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-16 animate-pulse"}),(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-24 animate-pulse"})]},a))}):(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-750",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"$SHIB BURNED"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"From"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"To"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"DETAILS"})]})}),(0,s.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map((e,a)=>{let t;return(0,s.jsxs)("tr",{className:"hover:bg-gray-750 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-white",children:["\uD83D\uDD25 ",(0,h.LS)(parseInt(e.value)/1e18)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-300",children:(t=e.from,"".concat(t.slice(0,6),"...").concat(t.slice(-4)))})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-orange-400 font-medium",children:{"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce":"CA","0xdead000000000000000042069420694206942069":"BA-1","0x000000000000000000000000000000000000dead":"BA-2","0x0000000000000000000000000000000000000000":"BA-3","0xd7b7df10cb1dc2d1d15e7d00bcb244a7cfac61cc":"Vitalik Original"}[e.to.toLowerCase()]||"Unknown"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-300",children:(0,h.ak)(e.timeStamp)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("a",{href:"https://etherscan.io/tx/".concat(e.hash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})})]},"".concat(e.hash,"-").concat(a))})})]}),0===n.length&&!t&&(0,s.jsx)("div",{className:"px-6 py-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No burn transactions found"})})]})}var m=t(3904);function g(e){let{onRefresh:a}=e,[t,n]=(0,o.useState)(!1),r=async()=>{n(!0);try{if(a)await a();else{let e=new URL(window.location.href);e.searchParams.set("_refresh",Date.now().toString()),window.location.href=e.toString()}}catch(e){console.error("Refresh failed:",e)}finally{setTimeout(()=>{n(!1)},1e3)}};return(0,s.jsx)("button",{onClick:r,disabled:t,className:"ml-4 p-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",title:"Refresh data",children:(0,s.jsx)(m.A,{className:"h-5 w-5 ".concat(t?"animate-spin":"")})})}var p=t(6874),f=t.n(p);function y(e){return e>=1e12?(e/1e12).toFixed(2)+"T":e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toFixed(2)}async function b(){try{let e=await fetch("/api/price",{cache:"no-cache"});if(e.ok){let a=await e.json();if(!a.error&&a.price)return console.log("\uD83D\uDCB0 Price fetched from live API"),a}}catch(e){console.warn("⚠️ Live price API failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback price data"),{price:8e-6,priceChange24h:0,marketCap:47e8,source:"emergency_fallback",cached:!0}}async function v(){try{let e=await fetch("/api/total-burned",{cache:"no-cache"});if(e.ok){let a=await e.json();if(!a.error&&a.totalBurned)return console.log("\uD83D\uDD25 Total burned fetched from live API"),a}}catch(e){console.warn("⚠️ Live total burned API failed:",e)}try{let e=await fetch("/api/historical/burns?limit=1000",{cache:"no-cache"});if(e.ok){let a=await e.json();if(a.burns&&Array.isArray(a.burns)){let e=a.burns.reduce((e,a)=>{try{return e+parseFloat(a.value)/1e18}catch(a){return e}},0);if(e>0)return console.log("\uD83D\uDEE1️ Total burned calculated from historical data:",e),{totalBurned:e,source:"historical_fallback",cached:!0}}}}catch(e){console.warn("⚠️ Historical data fallback failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback total burned data"),{totalBurned:0x17593ab3b9f72,source:"emergency_fallback",cached:!0}}async function w(){var e,a,t;try{console.log("\uD83D\uDD25 Homepage: Fetching burns from: /api/burns");let a=await fetch("/api/burns",{cache:"no-cache"});if(console.log("\uD83D\uDD25 Homepage: Burns API response status:",a.status),a.ok){let t=await a.json();if(console.log("\uD83D\uDD25 Homepage: Raw API response:",{hasError:!!t.error,hasTransactions:!!t.transactions,count:(null==(e=t.transactions)?void 0:e.length)||0,source:t.source}),!t.error&&t.transactions&&Array.isArray(t.transactions)&&t.transactions.length>0)return console.log("\uD83D\uDD25 Homepage: Burns API data loaded successfully - returning real data"),t;console.warn("\uD83D\uDD25 Homepage: API returned invalid data:",t)}}catch(e){console.warn("⚠️ Live burns API failed:",e)}try{console.log("\uD83D\uDEE1️ Trying 5-year historical dataset fallback...");let e=await fetch("/api/historical/dataset?limit=100",{cache:"no-cache"});if(e.ok){let s=await e.json();if(s.transactions&&Array.isArray(s.transactions)&&s.transactions.length>0)return console.log("\uD83D\uDEE1️ Using 5-year historical dataset:",s.transactions.length,"transactions"),console.log("\uD83D\uDEE1️ Dataset info: ".concat((null==(a=s.summary)?void 0:a.years_of_data)||"N/A"," years, ").concat((null==(t=s.metadata)?void 0:t.totalDatasizeTransactions)||"N/A"," total burns")),{transactions:s.transactions,source:"5year_historical_dataset",cached:!0}}}catch(e){console.warn("⚠️ 5-year historical dataset fallback failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback burn data"),{transactions:[{hash:"0x0000000000000000000000000000000000000000000000000000000000000000",from:"0x0000000000000000000000000000000000000000",to:"0xdead000000000000000042069420694206942069",value:"1000000000000000000000000",timeStamp:String(Math.floor(Date.now()/1e3)-3600),blockNumber:"0"}],source:"emergency_fallback",cached:!0}}function j(){var e;let[a,t]=(0,o.useState)({price:8e-6,priceChange24h:0,marketCap:47e8,source:"loading",cached:!0}),[u,m]=(0,o.useState)({totalBurned:0x17593ab3b9f72,source:"loading",cached:!0}),[p,j]=(0,o.useState)({transactions:[],source:"loading",cached:!0}),[N,k]=(0,o.useState)(!1),[A,B]=(0,o.useState)(new Date),[I,S]=(0,o.useState)(!1),[D,F]=(0,o.useState)(!1),T=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Date.now();try{let[t,s,n]=await Promise.all([fetch("/api/price".concat(e?"?_t=".concat(a):""),{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}}).then(e=>e.ok?e.json():b()),v(),w()]);return{newPriceData:t,newTotalBurnedData:s,newBurnsData:n}}catch(e){return console.error("Fresh data fetch failed, using fallback:",e),{newPriceData:await b(),newTotalBurnedData:await v(),newBurnsData:await w()}}},[]),C=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&S(!0);try{let{newPriceData:e,newTotalBurnedData:s,newBurnsData:n}=await T(a);e&&"number"==typeof e.price&&e.price>0&&(t(e),console.log("\uD83D\uDCB0 Price updated: $".concat(e.price,", source: ").concat(e.source))),s&&"number"==typeof s.totalBurned&&m(s),n&&Array.isArray(n.transactions)&&j(n),B(new Date),N||k(!0)}catch(e){console.error("Error fetching data:",e)}finally{e&&S(!1)}},[N,T]),P=(0,o.useCallback)(async()=>{console.log("\uD83D\uDD04 Manual refresh triggered - forcing fresh data"),await C(!0,!0)},[C]);(0,o.useEffect)(()=>{C(!0,!1);let e=setInterval(()=>{document.hidden||C(!1,!1)},45e3),a=()=>{document.hidden?(F(!0),console.log("\uD83D\uDCF1 Page hidden - pausing real-time updates")):(console.log("\uD83D\uDC41️ Page visible - resuming with fresh data"),D?(console.log("\uD83D\uDD04 Forcing fresh data after page was hidden"),C(!0,!0),F(!1)):C(!1,!1))};document.addEventListener("visibilitychange",a);let t=()=>{D&&(console.log("\uD83C\uDFAF Window focused after being hidden - forcing fresh data"),C(!0,!0),F(!1))};return window.addEventListener("focus",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",a),window.removeEventListener("focus",t)}},[C,D]);let H=p.transactions,L=Date.now(),E=L-864e5,M=L-1728e5,_=H.filter(e=>1e3*parseInt(e.timeStamp)>=E),U=H.filter(e=>{let a=1e3*parseInt(e.timeStamp);return a>=M&&a<E}),R=_.length>10?_:H.slice(0,10),$=_.reduce((e,a)=>e+parseInt(a.value)/1e18,0),K=U.reduce((e,a)=>e+parseInt(a.value)/1e18,0),O=0,V="No previous data";if(K>0){let e,a=(O=($-K)/K*100)>=0?"+":"";e=Math.abs(O)>=1e3?"".concat(Math.round(O).toLocaleString()):O.toFixed(1),V="".concat(a).concat(e,"% vs yesterday")}else $>0&&(V="\uD83D\uDE80 New activity today");let q=H[0],Q=q?(0,h.ak)(q.timeStamp):"Unknown",z=a.marketCap,G=u.totalBurned/1e15*100;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white",children:"\uD83D\uDD25 SHIBMETRICS"}),N&&(0,s.jsxs)("div",{className:"ml-4 flex items-center gap-2 bg-green-900/20 border border-green-500/30 rounded-full px-3 py-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(I?"bg-orange-400 animate-pulse":"bg-green-400 animate-pulse")}),(0,s.jsx)("span",{className:"text-xs font-medium ".concat(I?"text-orange-400":"text-green-400"),children:I?"UPDATING...":"LIVE"})]}),(0,s.jsx)(g,{onRefresh:P})]}),(0,s.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-2",children:"Track SHIBA INU token burns in real-time. Monitor burn transactions, rates, and supply reduction."}),N&&(0,s.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Auto-updates every 45 seconds • Last updated: ",A.toLocaleTimeString()]}),(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 bg-green-900/20 border border-green-500/30 rounded-full px-4 py-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"✨ Always Ad-Free • No Annoying Popups • Clean Experience"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[(0,s.jsx)(d,{title:"24H Burn Activity",value:"".concat($>=1e12?($/1e12).toFixed(4)+"T":$>=1e9?($/1e9).toFixed(4)+"B":$>=1e6?($/1e6).toFixed(4)+"M":$>=1e3?($/1e3).toFixed(4)+"K":$.toFixed(4)," SHIB"),change:V,icon:O>0?n.A:O<0?r:c.A,changeType:O>0?"positive":O<0?"negative":"neutral"}),(0,s.jsx)(d,{title:"SHIB Price",value:"$".concat(a.price.toFixed(8)),change:"".concat(a.priceChange24h>=0?"+":"").concat(a.priceChange24h.toFixed(2),"% (24h)"),icon:i.A,changeType:a.priceChange24h>=0?"positive":"negative"}),(0,s.jsx)(d,{title:"Burnt from Initial Supply",value:"".concat((e=u.totalBurned)>=1e12?(e/1e12).toFixed(5)+"T":e>=1e9?(e/1e9).toFixed(5)+"B":e>=1e6?(e/1e6).toFixed(5)+"M":e>=1e3?(e/1e3).toFixed(5)+"K":e.toFixed(5)," SHIB"),change:"".concat(G.toFixed(6),"% of 1Q initial supply"),icon:c.A,changeType:"positive"}),(0,s.jsx)(d,{title:"Last Burn",value:"".concat(Q),change:"Most recent activity",icon:l.A,changeType:"neutral"}),(0,s.jsx)(d,{title:"Burn Rate",value:"".concat(y($/24)," SHIB/hr"),change:"".concat(y($)," SHIB/day"),icon:c.A,changeType:"neutral"}),(0,s.jsx)(d,{title:"Market Cap",value:"$".concat((z/1e9).toFixed(5),"B"),change:"Current valuation",icon:n.A,changeType:"neutral"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-12 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"\uD83D\uDD25 Burn Progress"}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-5xl font-bold text-orange-400 mb-2",children:[G.toFixed(4),"%"]}),(0,s.jsx)("div",{className:"text-gray-300 text-lg",children:"of total supply permanently burned"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("span",{className:"text-lg font-medium text-gray-300",children:"Progress to Next Milestone"}),(0,s.jsxs)("span",{className:"text-lg text-orange-400 font-bold",children:[y(u.totalBurned),"T SHIB"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-6 shadow-inner",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-6 rounded-full transition-all duration-1000 shadow-lg",style:{width:"".concat(Math.min(G,100),"%")}})}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,s.jsx)("span",{children:"0 SHIB"}),(0,s.jsx)("span",{children:"1 Quadrillion SHIB"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:_.length>10?"Recent Burn Transactions (".concat(_.length," in last 24h)"):"Latest Burn Transactions (Last 10)"})}),(0,s.jsx)(x,{transactions:R,loading:!1})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)(f(),{href:"/burn-tracker",className:"inline-flex items-center px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"View Burn Tracker"]})})]})})}},3109:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4186:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5868:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8610:(e,a,t)=>{Promise.resolve().then(t.bind(t,2922))}},e=>{e.O(0,[874,560,441,964,358],()=>e(e.s=8610)),_N_E=e.O()}]);