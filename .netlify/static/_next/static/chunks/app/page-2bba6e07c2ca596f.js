(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2922:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var n=t(5155),s=t(3109);let r=(0,t(9946).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var c=t(5607),i=t(5868),l=t(4186),o=t(2115);function d(e){let{title:a,value:t,change:s,changeType:r="neutral",icon:c,loading:i=!1}=e;return(0,n.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-400",children:a}),i?(0,n.jsx)("div",{className:"mt-2 h-8 bg-gray-700 rounded animate-pulse"}):(0,n.jsx)("p",{className:"mt-2 text-3xl font-semibold text-white",children:t}),s&&!i&&(0,n.jsx)("p",{className:"mt-1 text-sm ".concat({positive:"text-green-400",negative:"text-red-400",neutral:"text-gray-400"}[r]),children:s})]}),(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(c,{className:"h-8 w-8 text-orange-500"})})]})})}var u=t(1886),h=t(3786);function x(e){let{transactions:a,loading:t=!1}=e,s=a.reduce((e,a)=>(-1===e.findIndex(e=>e.hash===a.hash)&&e.push(a),e),[]);return t?(0,n.jsx)("div",{className:"p-6",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,n.jsxs)("div",{className:"flex items-center space-x-4 py-3",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-700 rounded w-20 animate-pulse"}),(0,n.jsx)("div",{className:"h-4 bg-gray-700 rounded w-32 animate-pulse"}),(0,n.jsx)("div",{className:"h-4 bg-gray-700 rounded w-16 animate-pulse"}),(0,n.jsx)("div",{className:"h-4 bg-gray-700 rounded w-24 animate-pulse"})]},a))}):(0,n.jsxs)("div",{className:"overflow-x-auto",children:[(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,n.jsx)("thead",{className:"bg-gray-750",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"$SHIB BURNED"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"From"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"To"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"DETAILS"})]})}),(0,n.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:s.map((e,a)=>{let t;return(0,n.jsxs)("tr",{className:"hover:bg-gray-750 transition-colors",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsxs)("span",{className:"text-sm font-medium text-white",children:["\uD83D\uDD25 ",(0,u.LS)(parseInt(e.value)/1e18)]})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"text-sm text-gray-300",children:(t=e.from,"".concat(t.slice(0,6),"...").concat(t.slice(-4)))})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"text-sm text-orange-400 font-medium",children:{"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce":"CA","0xdead000000000000000042069420694206942069":"BA-1","0x000000000000000000000000000000000000dead":"BA-2","0x0000000000000000000000000000000000000000":"BA-3","0xd7b7df10cb1dc2d1d15e7d00bcb244a7cfac61cc":"Vitalik Original"}[e.to.toLowerCase()]||"Unknown"})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"text-sm text-gray-300",children:(0,u.ak)(e.timeStamp)})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("a",{href:"https://etherscan.io/tx/".concat(e.hash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:(0,n.jsx)(h.A,{className:"h-4 w-4"})})})]},"".concat(e.hash,"-").concat(a))})})]}),0===s.length&&!t&&(0,n.jsx)("div",{className:"px-6 py-8 text-center",children:(0,n.jsx)("p",{className:"text-gray-400",children:"No burn transactions found"})})]})}var g=t(3904);function m(e){let{onRefresh:a}=e,[t,s]=(0,o.useState)(!1),r=async()=>{s(!0);try{if(a)await a();else{let e=new URL(window.location.href);e.searchParams.set("_refresh",Date.now().toString()),window.location.href=e.toString()}}catch(e){console.error("Refresh failed:",e)}finally{setTimeout(()=>{s(!1)},1e3)}};return(0,n.jsx)("button",{onClick:r,disabled:t,className:"ml-4 p-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",title:"Refresh data",children:(0,n.jsx)(g.A,{className:"h-5 w-5 ".concat(t?"animate-spin":"")})})}var p=t(6874),f=t.n(p);function y(e){return e>=1e12?(e/1e12).toFixed(2)+"T":e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toFixed(2)}function b(e){return Math.floor(e).toLocaleString("en-US")}async function v(){try{let e=await fetch("/api/price",{cache:"no-cache"});if(e.ok){let a=await e.json();if(!a.error&&a.price)return console.log("\uD83D\uDCB0 Price fetched from live API"),a}}catch(e){console.warn("⚠️ Live price API failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback price data"),{price:8e-6,priceChange24h:0,marketCap:47e8,circulatingSupply:0x217eac64d5572,totalSupply:1e15,source:"emergency_fallback",cached:!0}}async function w(){try{let e=await fetch("/api/total-burned",{cache:"no-cache"});if(e.ok){let a=await e.json();if(!a.error&&a.totalBurned)return console.log("\uD83D\uDD25 Total burned fetched from live API"),a}}catch(e){console.warn("⚠️ Live total burned API failed:",e)}try{let e=await fetch("/api/historical/burns?limit=1000",{cache:"no-cache"});if(e.ok){let a=await e.json();if(a.burns&&Array.isArray(a.burns)){let e=a.burns.reduce((e,a)=>{try{return e+parseFloat(a.value)/1e18}catch(a){return e}},0);if(e>0)return console.log("\uD83D\uDEE1️ Total burned calculated from historical data:",e),{totalBurned:e,source:"historical_fallback",cached:!0}}}}catch(e){console.warn("⚠️ Historical data fallback failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback total burned data"),{totalBurned:0x17593ab3b9f72,source:"emergency_fallback",cached:!0}}async function j(){var e,a,t;try{console.log("\uD83D\uDD25 Homepage: Fetching burns from: /api/burns");let a=await fetch("/api/burns",{cache:"no-cache"});if(console.log("\uD83D\uDD25 Homepage: Burns API response status:",a.status),a.ok){let t=await a.json();if(console.log("\uD83D\uDD25 Homepage: Raw API response:",{hasError:!!t.error,hasTransactions:!!t.transactions,count:(null==(e=t.transactions)?void 0:e.length)||0,source:t.source}),!t.error&&t.transactions&&Array.isArray(t.transactions)&&t.transactions.length>0)return console.log("\uD83D\uDD25 Homepage: Burns API data loaded successfully - returning real data"),t;console.warn("\uD83D\uDD25 Homepage: API returned invalid data:",t)}}catch(e){console.warn("⚠️ Live burns API failed:",e)}try{console.log("\uD83D\uDEE1️ Trying 5-year historical dataset fallback...");let e=await fetch("/api/historical/dataset?limit=100",{cache:"no-cache"});if(e.ok){let n=await e.json();if(n.transactions&&Array.isArray(n.transactions)&&n.transactions.length>0)return console.log("\uD83D\uDEE1️ Using 5-year historical dataset:",n.transactions.length,"transactions"),console.log("\uD83D\uDEE1️ Dataset info: ".concat((null==(a=n.summary)?void 0:a.years_of_data)||"N/A"," years, ").concat((null==(t=n.metadata)?void 0:t.totalDatasizeTransactions)||"N/A"," total burns")),{transactions:n.transactions,source:"5year_historical_dataset",cached:!0}}}catch(e){console.warn("⚠️ 5-year historical dataset fallback failed:",e)}return console.log("\uD83D\uDEE1️ Using emergency fallback burn data"),{transactions:[{hash:"0x0000000000000000000000000000000000000000000000000000000000000000",from:"0x0000000000000000000000000000000000000000",to:"0xdead000000000000000042069420694206942069",value:"1000000000000000000000000",timeStamp:String(Math.floor(Date.now()/1e3)-3600),blockNumber:"0"}],source:"emergency_fallback",cached:!0}}function N(){var e;let[a,t]=(0,o.useState)({price:8e-6,priceChange24h:0,marketCap:47e8,circulatingSupply:0x217eac64d5572,totalSupply:1e15,source:"loading",cached:!0}),[h,g]=(0,o.useState)({totalBurned:0x17593ab3b9f72,source:"loading",cached:!0}),[p,N]=(0,o.useState)({transactions:[],source:"loading",cached:!0}),[k,A]=(0,o.useState)(!1),[S,B]=(0,o.useState)(new Date),[D,I]=(0,o.useState)(!1),[T,C]=(0,o.useState)(!1),F=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Date.now();try{let[t,n,s]=await Promise.all([fetch("/api/price".concat(e?"?_t=".concat(a):""),{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}}).then(e=>e.ok?e.json():v()),w(),j()]);return{newPriceData:t,newTotalBurnedData:n,newBurnsData:s}}catch(e){return console.error("Fresh data fetch failed, using fallback:",e),{newPriceData:await v(),newTotalBurnedData:await w(),newBurnsData:await j()}}},[]),P=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("\uD83D\uDCE1 fetchAllData called: showLoading=".concat(e,", forceFresh=").concat(a)),e&&I(!0);try{let{newPriceData:e,newTotalBurnedData:s,newBurnsData:r}=await F(a);console.log("\uD83D\uDCCA Raw API responses:",{newPriceData:e,newTotalBurnedData:s,newBurnsData:r});let c=e&&"number"==typeof e.price&&e.price>0&&"number"==typeof e.marketCap&&e.marketCap>0&&"number"==typeof e.circulatingSupply&&e.circulatingSupply>0&&"number"==typeof e.totalSupply&&e.totalSupply>0,i=s&&"number"==typeof s.totalBurned&&s.totalBurned>0,l=r&&Array.isArray(r.transactions)&&r.transactions.length>0;if(console.log("\uD83D\uDD0D Data validation:",{price:c,totalBurned:i,burns:l}),c&&i&&l)console.log("✅ All data valid - performing atomic update"),t(e),g(s),N(r),B(new Date),k||A(!0),console.log("\uD83D\uDCB0 ATOMIC UPDATE COMPLETE - Price: $".concat(e.price,", MarketCap: $").concat(e.marketCap,", Burns: ").concat(r.transactions.length," transactions"));else{var n;console.warn("❌ ATOMIC UPDATE REJECTED - keeping existing data to prevent inconsistency"),console.warn("Failed validations:",{priceData:c?"OK":e,totalBurnedData:i?"OK":s,burnsData:l?"OK":"".concat((null==r||null==(n=r.transactions)?void 0:n.length)||0," transactions")})}}catch(e){console.error("\uD83D\uDCA5 Error fetching data - keeping existing data:",e)}finally{e&&I(!1)}},[k,F]),E=(0,o.useCallback)(async()=>{console.log("\uD83D\uDD04 Manual refresh triggered - forcing fresh data"),await P(!0,!0)},[P]);(0,o.useEffect)(()=>{console.log("\uD83D\uDD04 Starting real-time updates system with ATOMIC UPDATES..."),P(!0,!1),console.log("⏰ Setting up 45-second polling interval with atomic updates...");let e=setInterval(()=>{document.hidden?console.log("\uD83D\uDC41️ Page hidden, skipping poll"):(console.log("\uD83D\uDD14 45-second timer: fetching fresh data with atomic validation..."),P(!1,!1))},45e3),a=()=>{document.hidden?(C(!0),console.log("\uD83D\uDCF1 Page hidden - pausing real-time updates")):(console.log("\uD83D\uDC41️ Page visible - resuming with fresh data"),T?(console.log("\uD83D\uDD04 Forcing fresh data after page was hidden"),P(!0,!0),C(!1)):P(!1,!1))};document.addEventListener("visibilitychange",a);let t=()=>{T&&(console.log("\uD83C\uDFAF Window focused after being hidden - forcing fresh data"),P(!0,!0),C(!1))};return window.addEventListener("focus",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",a),window.removeEventListener("focus",t)}},[P,T]);let M=p.transactions,L=Date.now(),H=L-864e5,_=L-1728e5,U=M.filter(e=>1e3*parseInt(e.timeStamp)>=H),R=M.filter(e=>{let a=1e3*parseInt(e.timeStamp);return a>=_&&a<H}),O=U.length>10?U:M.slice(0,10),K=U.reduce((e,a)=>e+parseInt(a.value)/1e18,0),$=R.reduce((e,a)=>e+parseInt(a.value)/1e18,0),V=0,q="No previous data";if($>0){let e,a=(V=(K-$)/$*100)>=0?"+":"";e=Math.abs(V)>=1e3?"".concat(Math.round(V).toLocaleString()):V.toFixed(1),q="".concat(a).concat(e,"% vs yesterday")}else K>0&&(q="\uD83D\uDE80 New activity today");let Q=M[0],z=Q?(0,u.ak)(Q.timeStamp):"Unknown",G=a.marketCap,J=h.totalBurned/1e15*100;return(0,n.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,n.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white",children:"\uD83D\uDD25 SHIBMETRICS"}),k&&(0,n.jsxs)("div",{className:"ml-4 flex items-center gap-2 bg-green-900/20 border border-green-500/30 rounded-full px-3 py-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(D?"bg-orange-400 animate-pulse":"bg-green-400 animate-pulse")}),(0,n.jsx)("span",{className:"text-xs font-medium ".concat(D?"text-orange-400":"text-green-400"),children:D?"UPDATING...":"LIVE"})]}),(0,n.jsx)(m,{onRefresh:E})]}),(0,n.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-2",children:"Track SHIBA INU token burns in real-time. Monitor burn transactions, rates, and supply reduction."}),k&&(0,n.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Auto-updates every 45 seconds • Last updated: ",S.toLocaleTimeString()]}),(0,n.jsxs)("div",{className:"inline-flex items-center gap-2 bg-green-900/20 border border-green-500/30 rounded-full px-4 py-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"✨ Always Ad-Free • No Annoying Popups • Clean Experience"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 transition-opacity duration-200 ".concat(D?"opacity-90":""),children:[(0,n.jsx)(d,{title:"24H Burn Activity",value:"".concat(K>=1e12?(K/1e12).toFixed(4)+"T":K>=1e9?(K/1e9).toFixed(4)+"B":K>=1e6?(K/1e6).toFixed(4)+"M":K>=1e3?(K/1e3).toFixed(4)+"K":K.toFixed(4)," SHIB"),change:q,icon:V>0?s.A:V<0?r:c.A,changeType:V>0?"positive":V<0?"negative":"neutral"}),(0,n.jsx)(d,{title:"SHIB Price",value:"$".concat(a.price.toFixed(8)),change:"".concat(a.priceChange24h>=0?"+":"").concat(a.priceChange24h.toFixed(2),"% (24h)"),icon:i.A,changeType:a.priceChange24h>=0?"positive":"negative"}),(0,n.jsx)(d,{title:"Burnt from Initial Supply",value:"".concat((e=h.totalBurned)>=1e12?(e/1e12).toFixed(5)+"T":e>=1e9?(e/1e9).toFixed(5)+"B":e>=1e6?(e/1e6).toFixed(5)+"M":e>=1e3?(e/1e3).toFixed(5)+"K":e.toFixed(5)," SHIB"),change:"".concat(J.toFixed(6),"% of 1Q initial supply"),icon:c.A,changeType:"positive"}),(0,n.jsx)(d,{title:"Last Burn",value:"".concat(z),change:"Most recent activity",icon:l.A,changeType:"neutral"}),(0,n.jsx)(d,{title:"Burn Rate",value:"".concat(y(K/24)," SHIB/hr"),change:"".concat(y(K)," SHIB in past day"),icon:c.A,changeType:"neutral"}),(0,n.jsx)(d,{title:"Market Cap",value:"$".concat((G/1e9).toFixed(5),"B"),change:"Current valuation",icon:s.A,changeType:"neutral"}),(0,n.jsx)(d,{title:"Circulating Supply",value:"".concat(b(a.circulatingSupply)," SHIB"),change:"Currently in circulation",icon:s.A,changeType:"neutral"}),(0,n.jsx)(d,{title:"Total Supply",value:"".concat(b(a.totalSupply)," SHIB"),change:"Maximum ever created",icon:c.A,changeType:"neutral"})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-12 border border-gray-700",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"\uD83D\uDD25 Burn Progress"}),(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"text-5xl font-bold text-orange-400 mb-2",children:[J.toFixed(4),"%"]}),(0,n.jsx)("div",{className:"text-gray-300 text-lg",children:"of total supply permanently burned"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("span",{className:"text-lg font-medium text-gray-300",children:"Progress to Next Milestone"}),(0,n.jsxs)("span",{className:"text-lg text-orange-400 font-bold",children:[y(h.totalBurned),"T SHIB"]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-6 shadow-inner",children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-6 rounded-full transition-all duration-1000 shadow-lg",style:{width:"".concat(Math.min(J,100),"%")}})}),(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,n.jsx)("span",{children:"0 SHIB"}),(0,n.jsx)("span",{children:"1 Quadrillion SHIB"})]})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 relative ".concat(D?"opacity-95":""),children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:U.length>10?"Recent Burn Transactions (".concat(U.length," in last 24h)"):"Latest Burn Transactions (Last 10)"}),D&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-orange-400 text-xs",children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse"}),(0,n.jsx)("span",{children:"Refreshing..."})]})]})}),(0,n.jsx)(x,{transactions:O,loading:!1})]}),(0,n.jsx)("div",{className:"mt-8 text-center",children:(0,n.jsxs)(f(),{href:"/burn-tracker",className:"inline-flex items-center px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:[(0,n.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"View Burn Tracker"]})})]})})}},3109:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});let n=(0,t(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4186:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});let n=(0,t(9946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5868:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});let n=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8610:(e,a,t)=>{Promise.resolve().then(t.bind(t,2922))}},e=>{e.O(0,[874,560,441,964,358],()=>e(e.s=8610)),_N_E=e.O()}]);