(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{1788:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},1977:(e,t,a)=>{Promise.resolve().then(a.bind(a,8794))},3786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3904:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6932:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},8794:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5155),r=a(2115),l=a(9946);let n=(0,l.A)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),o=(0,l.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c=(0,l.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),i=(0,l.A)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var d=a(9676),h=a(3904),x=a(6932),m=a(1788),u=a(3786);let g={"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce":"CA","0xdead000000000000000042069420694206942069":"BA-1","0x000000000000000000000000000000000000dead":"BA-2","0x0000000000000000000000000000000000000000":"BA-3","0xd7b7df10cb1dc2d1d15e7d00bcb244a7cfac61cc":"VB-Original"};function p(e){return e>=1e12?(e/1e12).toFixed(3)+"T":e>=1e9?(e/1e9).toFixed(3)+"B":e>=1e6?(e/1e6).toFixed(3)+"M":e>=1e3?(e/1e3).toFixed(3)+"K":e.toLocaleString()}function f(e){return g[e.toLowerCase()]||"Unknown"}function y(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[g,y]=(0,r.useState)(!0),[b,j]=(0,r.useState)(1),[v,w]=(0,r.useState)("all"),[N,k]=(0,r.useState)("time"),[A,D]=(0,r.useState)(new Date),I=Math.ceil(a.length/50),C=(b-1)*50,L=a.slice(C,C+50),B=(0,r.useCallback)(async()=>{y(!0);try{var e,a,s,r;console.log("\uD83D\uDD25 Fetching comprehensive burn history..."),console.log("\uD83D\uDD25 API URL will be:","/api/historical/dataset?limit=20000&address=all");let l=await fetch("/api/burns-history?stats=true",{cache:"no-cache",method:"GET",headers:{"Content-Type":"application/json"}});if(l.ok){let e=await l.json();console.log("\uD83D\uDCCA Historical stats:",e)}let n=await fetch("/api/historical/dataset?limit=20000&address=all",{cache:"no-cache",method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("\uD83D\uDCCA Response status:",n.status,n.statusText),console.log("\uD83D\uDCCA Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){let e=await n.text();throw console.error("❌ API Response Error:",e),Error("API error: ".concat(n.status," ").concat(n.statusText," - ").concat(e))}let o=await n.json();console.log("\uD83D\uDCCA API Response:",{hasTransactions:!!o.transactions,transactionCount:(null==(e=o.transactions)?void 0:e.length)||0,sampleData:(null==(a=o.transactions)?void 0:a.slice(0,2))||[],fullKeys:Object.keys(o)}),console.log("\uD83D\uDCCA FULL API Response data keys:",Object.keys(o)),console.log("\uD83D\uDCCA API Response transactions length:",null==(s=o.transactions)?void 0:s.length),console.log("\uD83D\uDCCA API Response raw size estimate:",JSON.stringify(o).length);let c=o.burns||o.transactions;if(c&&Array.isArray(c)&&c.length>0){let e=c.filter(e=>{try{return BigInt(e.value||"0"),!0}catch(t){return console.log("Invalid transaction value (unparseable):",e.value),!1}});console.log("✅ Loaded ".concat(e.length," valid transactions (filtered out ").concat(c.length-e.length," zero/invalid value transactions)")),console.log("\uD83D\uDCCA Data source: ".concat(o.burns?"historical API":"fallback burns API")),t(e),0===e.length&&console.warn("⚠️ No valid transactions after filtering!")}else{console.log("\uD83D\uDCCB Historical data empty, falling back to regular burns API...");let e=await fetch("/api/burns",{cache:"no-cache",method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let a=await e.json();if(console.log("\uD83D\uDCCB Fallback API response keys:",Object.keys(a)),console.log("\uD83D\uDCCB Fallback transactions count:",(null==(r=a.transactions)?void 0:r.length)||0),a.transactions&&Array.isArray(a.transactions)){let e=a.transactions.filter(e=>{try{return BigInt(e.value||"0")>BigInt(0)}catch(e){return!1}});console.log("✅ Loaded ".concat(e.length," transactions from fallback burns API (").concat(a.transactions.length," raw)")),t(e)}else console.error("⚠️ No transactions in fallback API response"),t([])}else console.error("⚠️ Fallback API request failed with status:",e.status),t([])}D(new Date)}catch(e){console.error("❌ Error fetching burn history:",e),console.error("❌ Error stack:",e instanceof Error?e.stack:"No stack"),t([])}finally{console.log("\uD83C\uDFC1 Fetch completed, setting loading to false"),y(!1)}},[v]);return(0,r.useEffect)(()=>{let t=[...e];if(console.log('\uD83D\uDD0D FILTERING DEBUG: selectedDestination="'.concat(v,'", allTransactions count=').concat(e.length)),"all"!==v){console.log('\uD83D\uDD0D Filtering by: "'.concat(v,'"'));let a=t.length;t=t.filter(e=>e.to.toLowerCase()===v.toLowerCase()),console.log("\uD83D\uDD0D Filter result: ".concat(t.length," matches (was ").concat(a,")")),t.length>0?console.log("\uD83D\uDD0D Sample matches:",t.slice(0,3).map(e=>({to:e.to,hash:e.hash.slice(0,10)}))):(console.log("\uD83D\uDD0D Available addresses in data:",[...new Set(e.map(e=>e.to.toLowerCase()))]),console.log("\uD83D\uDD0D Looking for address:",v.toLowerCase()))}t.sort((e,t)=>{if("time"===N)return parseInt(t.timeStamp)-parseInt(e.timeStamp);try{let a=BigInt(e.value),s=BigInt(t.value);if(s>a)return 1;if(s<a)return -1;return 0}catch(e){return 0}}),l(t),j(1)},[e,v,N]),(0,r.useEffect)(()=>{console.log("\uD83D\uDD04 History page mounting, fetching data..."),B()},[B]),(0,r.useEffect)(()=>{let e=setInterval(()=>{console.log("\uD83D\uDD04 Auto-refreshing historical data..."),B()},6e5);return()=>clearInterval(e)},[B]),(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center",children:[(0,s.jsx)(d.A,{className:"h-8 w-8 text-orange-500 mr-3"}),"SHIB Burn History"]}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Complete history of all Shiba Inu token burn transactions"})]}),(0,s.jsxs)("button",{onClick:B,disabled:g,className:"flex items-center px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2 ".concat(g?"animate-spin":"")}),"Refresh"]})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center text-sm text-gray-400",children:[(0,s.jsxs)("span",{children:["Last updated: ",A.toLocaleTimeString()]}),(0,s.jsx)("span",{className:"mx-2",children:"•"}),(0,s.jsxs)("span",{children:[a.length," transactions"]}),(0,s.jsx)("span",{className:"mx-2",children:"•"}),(0,s.jsxs)("span",{children:[p(a.reduce((e,t)=>e+parseInt(t.value)/1e18,0))," SHIB total"]})]})]}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 mb-8 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 inline mr-2"}),"Filter by Destination"]}),(0,s.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,s.jsx)("option",{value:"all",children:"All Destinations"}),(0,s.jsx)("option",{value:"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce",children:"Community Address (CA)"}),(0,s.jsx)("option",{value:"0xdead000000000000000042069420694206942069",children:"Vitalik Burn Alt (BA-1)"}),(0,s.jsx)("option",{value:"0x000000000000000000000000000000000000dead",children:"Dead Address (BA-2)"}),(0,s.jsx)("option",{value:"0x0000000000000000000000000000000000000000",children:"Null Address (BA-3)"})]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),(0,s.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,s.jsx)("option",{value:"time",children:"Most Recent"}),(0,s.jsx)("option",{value:"amount",children:"Largest Amount"})]})]})]})}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700 flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Burn Transactions"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Page ",b," of ",I]}),(0,s.jsxs)("button",{className:"flex items-center text-gray-400 hover:text-white text-sm",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),g?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 text-orange-500 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Loading burn transactions..."})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-750",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"From"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"$SHIB BURNED"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"To"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"DETAILS"})]})}),(0,s.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:L.map(e=>{var t;return(0,s.jsxs)("tr",{className:"hover:bg-gray-750 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-300 font-mono",children:(t=e.from,"".concat(t.slice(0,6),"...").concat(t.slice(-4)))})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:function(e){try{let t=BigInt(e),a=Number(t)/1e18;if(a>0&&a<1)return"<1";return p(a)}catch(t){return console.warn("Invalid value for formatShibAmount:",e),"0"}}(e.value)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-orange-400 font-medium",children:f(e.to)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-300",children:function(e){let t=Date.now(),a=Math.floor(Math.floor((t-1e3*parseInt(e))/1e3)/60),s=Math.floor(a/60),r=Math.floor(s/24);return a<60?"".concat(a," minutes ago"):s<24?"".concat(s," hours ago"):1===r?"Yesterday":"".concat(r," days ago")}(e.timeStamp)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("a",{href:"https://etherscan.io/tx/".concat(e.hash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})})]},e.hash)})})]})}),!g&&a.length>0&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[(0,s.jsx)("button",{onClick:()=>j(1),disabled:1===b,className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:(0,s.jsx)(n,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>j(Math.max(1,b-1)),disabled:1===b,className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:(0,s.jsx)(o,{className:"h-4 w-4"})}),(()=>{let e=[];if(I<=5)for(let t=1;t<=I;t++)e.push(t);else{let t=Math.max(1,b-2),a=Math.min(I,t+5-1);for(let s=t;s<=a;s++)e.push(s)}return e})().map(e=>(0,s.jsx)("button",{onClick:()=>j(e),className:"px-3 py-2 rounded-md ".concat(b===e?"bg-orange-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"),children:e},e)),(0,s.jsx)("button",{onClick:()=>j(Math.min(I,b+1)),disabled:b===I,className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:(0,s.jsx)(c,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>j(I),disabled:b===I,className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:(0,s.jsx)(i,{className:"h-4 w-4"})})]}),{})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(d.A,{className:"h-8 w-8 text-orange-500"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Transactions"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-white",children:a.length.toLocaleString()})]})]})}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(u.A,{className:"h-8 w-8 text-orange-500"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total SHIB Burned"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-white",children:p(a.reduce((e,t)=>e+parseInt(t.value)/1e18,0))})]})]})}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(x.A,{className:"h-8 w-8 text-orange-500"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Current Filter"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-white",children:"all"===v?"All":f(v)})]})]})})]})]})})}},9676:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:h,...x}=e;return(0,s.createElement)("svg",{ref:t,...n,width:r,height:r,stroke:a,strokeWidth:c?24*Number(o)/Number(r):o,className:l("lucide",i),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,s.forwardRef)((a,n)=>{let{className:c,...i}=a;return(0,s.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...i})});return a.displayName=r(e),a}}},e=>{e.O(0,[441,964,358],()=>e(e.s=1977)),_N_E=e.O()}]);